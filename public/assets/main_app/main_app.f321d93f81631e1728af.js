!function(e){function t(t){for(var n,u,c=t[0],i=t[1],l=t[2],f=0,p=[];f<c.length;f++)u=c[f],Object.prototype.hasOwnProperty.call(o,u)&&o[u]&&p.push(o[u][0]),o[u]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);for(s&&s(t);p.length;)p.shift()();return a.push.apply(a,l||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,c=1;c<r.length;c++){var i=r[c];0!==o[i]&&(n=!1)}n&&(a.splice(t--,1),e=u(u.s=r[0]))}return e}var n={},o={5:0},a=[];function u(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,u),r.l=!0,r.exports}u.e=function(e){var t=[],r=o[e];if(0!==r)if(r)t.push(r[2]);else{var n=new Promise((function(t,n){r=o[e]=[t,n]}));t.push(r[2]=n);var a,c=document.createElement("script");c.charset="utf-8",c.timeout=120,u.nc&&c.setAttribute("nonce",u.nc),c.src=function(e){return u.p+""+({0:"ForgotPassword",1:"Homepage",2:"Login",3:"Register",4:"UserEdit"}[e]||e)+"."+{0:"f88c9912371b431250ec",1:"cb7270aed7641b1e3cb6",2:"3fe50da7351850d20eae",3:"ee6729d377800ebd109a",4:"bad1b293ec37fbc5947f"}[e]+".js"}(e);var i=new Error;a=function(t){c.onerror=c.onload=null,clearTimeout(l);var r=o[e];if(0!==r){if(r){var n=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;i.message="Loading chunk "+e+" failed.\n("+n+": "+a+")",i.name="ChunkLoadError",i.type=n,i.request=a,r[1](i)}o[e]=void 0}};var l=setTimeout((function(){a({type:"timeout",target:c})}),12e4);c.onerror=c.onload=a,document.head.appendChild(c)}return Promise.all(t)},u.m=e,u.c=n,u.d=function(e,t,r){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},u.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(u.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)u.d(r,n,function(t){return e[t]}.bind(null,n));return r},u.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/assets/main_app/",u.oe=function(e){throw console.error(e),e};var c=window.webpackJsonp=window.webpackJsonp||[],i=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var s=i;a.push([399,6]),r()}({13:function(e,t,r){"use strict";var n={homepage:"/",userRegister:"/register",userLogin:"/login",userEdit:"/users/edit",userForgotPassword:"/forgot-password",userResetPassword:"/users/resetPassword/:key"};t.a={getRoute:function(e){if(!n.hasOwnProperty(e))throw new Error('Route "'.concat(e,' not found."'));return n[e]}}},31:function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u={},c=window.hasOwnProperty("CIKI_inputs")?CIKI_inputs:{};t.a={getInitData:function(){return c},setData:function(e){c=o(o({},c),e)},removeData:function(e){delete c[e]},setRoutes:function(e){u=e},getRoute:function(e,t){if(!u[e])throw new Error('The route ID "'.concat(e,'" does not exist.'));var r=u[e];if(t)for(var n in t)r=r.replace("%".concat(n,"%"),t[n]);return r}}},399:function(e,t,r){"use strict";r.r(t);r(168);var n=r(0),o=r.n(n),a=r(164),u=r.n(a),c=r(31),i=r(56),l=r.n(i),s=r(167),f={"*, ::after, ::before":{boxSizing:"border-box"},body:{fontFamily:'-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji"'},".btn":{padding:".25rem .5rem",borderRadius:5,border:0,backgroundColor:"#dddddd"},".form-group":{marginBottom:10,".form-control":{display:"block",border:"1px solid #aaa",borderRadius:5,padding:5,width:"100%"},".form-validation-error":{color:"red",display:"none"},"&.error":{label:{color:"red"},".form-control":{borderColor:"red",color:"red"},".form-validation-error":{display:"block"}}}},p=r(61);function m(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  margin: 10px;\n"]);return m=function(){return e},e}var d=Object(p.a)(m()),b=(r(391),r(62)),g=r(10),v=function(){var e=Object(g.f)(),t=c.a.getInitData();return"userConfirm"in t?(c.a.removeData("userConfirm"),o.a.createElement(b.a,{type:"info"},"Votre compte a bien été confirmé.")):"logout"in t||(e.location.state||{}).hasLogout?("logout"in t&&c.a.removeData("logout"),o.a.createElement(b.a,{type:"info"},"Vous êtes déconnecté.")):null};function y(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  background: #073b4c;\n  color: white;\n  display: flex;\n  padding: 10px;\n  a {\n    color: white;\n  }\n  .left, .right {\n    flex: 1\n  }\n  .right {\n    text-align: right;\n  }\n  .menu {\n    padding: 0;\n    margin: 0;\n    list-style: none;\n    display: flex;\n    justify-content: flex-end;\n    > li + li {\n      margin-left: 20px\n    }\n  }\n"]);return y=function(){return e},e}var h=Object(p.a)(y()),w=r(32),O=r(68),E=r(13);function j(e,t,r,n,o,a,u){try{var c=e[a](u),i=c.value}catch(e){return void r(e)}c.done?t(i):Promise.resolve(i).then(n,o)}function P(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function u(e){j(a,n,o,u,c,"next",e)}function c(e){j(a,n,o,u,c,"throw",e)}u(void 0)}))}}var x=function(){return o.a.createElement("ul",{className:"menu"},o.a.createElement("li",null,o.a.createElement(w.b,{to:E.a.getRoute("userRegister")},"register")),o.a.createElement("li",null,o.a.createElement(w.b,{to:E.a.getRoute("userLogin")},"login")),o.a.createElement("li",null,o.a.createElement(w.b,{to:E.a.getRoute("userForgotPassword")},"forgot password?")))},R=function(e){var t=e.user,r=Object(g.f)(),a=Object(n.useContext)(O.a);function u(){return(u=P(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{l.a.get(c.a.getRoute("users.logout")),a.initUser(null),r.push(E.a.getRoute("homepage"),{hasLogout:!0})}catch(e){console.error(e)}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return o.a.createElement("ul",{className:"menu"},o.a.createElement("li",null,"connected as ",t.username),o.a.createElement("li",null,o.a.createElement(w.b,{to:E.a.getRoute("userEdit")},"edit")),o.a.createElement("li",null,o.a.createElement("a",{href:"",onClick:function(e){e.preventDefault(),function(){u.apply(this,arguments)}()}},"log out")))},S=function(){var e=Object(n.useContext)(O.a);return o.a.createElement("nav",{className:h},o.a.createElement("div",{className:"left"},o.a.createElement(w.b,{to:E.a.getRoute("homepage")},"Can I Kick It")),o.a.createElement("div",{className:"right"},e.user?o.a.createElement(R,{user:e.user}):o.a.createElement(x,null)))},k=function(){return o.a.createElement("div",null,"Loading...")},C=r(86);function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){D(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function D(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A(e,t,r,n,o,a,u){try{var c=e[a](u),i=c.value}catch(e){return void r(e)}c.done?t(i):Promise.resolve(i).then(n,o)}function N(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function u(e){A(a,n,o,u,c,"next",e)}function c(e){A(a,n,o,u,c,"throw",e)}u(void 0)}))}}function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var u,c=e[Symbol.iterator]();!(n=(u=c.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw a}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return L(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var M=function(e){var t=e.resetKey,r=Object(g.f)(),a=z(Object(n.useState)({resetKey:t,new_password:"",new_password_confirmation:""}),2),u=a[0],i=a[1],s=z(Object(n.useState)({status:"init"}),2),f=s[0],p=s[1];function m(){return(m=N(regeneratorRuntime.mark((function e(t){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),p({status:"submitting"}),e.prev=2,n=c.a.getRoute("users.resetPassword"),e.next=6,l.a.post(n,u);case 6:(o=e.sent).data.error?p({status:"error",error:o.data.error,field_error:o.data.field||""}):r.push(E.a.getRoute("userLogin")),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),console.error(e.t0),p({status:"error",error:"A technical error occurred, come back later and try again."});case 14:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}var d=function(e){i(I(I({},u),D({},e.target.name,e.target.value)))};return o.a.createElement("form",{style:{width:300},onSubmit:function(e){return m.apply(this,arguments)}},"error"===f.status&&!f.field_error&&o.a.createElement(b.a,{type:"error"},f.error),o.a.createElement(C.a,{type:"password",name:"new_password",onChange:d,value:u.new_password},"New password"),o.a.createElement(C.a,{type:"password",name:"new_password_confirmation",onChange:d,value:u.new_password_confirmation},"Confirm your new password"),o.a.createElement("div",null,o.a.createElement("button",{type:"submit",className:"btn",disabled:"submitting"===f.status},"Envoyer")))},F=function(){var e=Object(g.g)();return o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",null,"Mise à jour de votre mot de passe"),o.a.createElement(M,{resetKey:e.key}))};function U(e,t,r,n,o,a,u){try{var c=e[a](u),i=c.value}catch(e){return void r(e)}c.done?t(i):Promise.resolve(i).then(n,o)}function T(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function u(e){U(a,n,o,u,c,"next",e)}function c(e){U(a,n,o,u,c,"throw",e)}u(void 0)}))}}function K(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var u,c=e[Symbol.iterator]();!(n=(u=c.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw a}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return B(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return B(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var H=o.a.lazy((function(){return r.e(1).then(r.bind(null,400))})),J=o.a.lazy((function(){return r.e(3).then(r.bind(null,401))})),V=o.a.lazy((function(){return r.e(2).then(r.bind(null,402))})),$=o.a.lazy((function(){return r.e(4).then(r.bind(null,403))})),q=o.a.lazy((function(){return r.e(0).then(r.bind(null,404))})),G=function(){var e=K(Object(n.useState)("init"),2),t=e[0],r=e[1],a=K(Object(n.useState)(null),2),u=a[0],i=a[1],p=Object(n.useCallback)((function(e){i(e)}),[u]);function m(){return(m=T(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r("loading"),e.prev=1,t=c.a.getInitData().initRoute,e.next=5,l.a.get(t);case 5:n=e.sent,console.log(n.data),c.a.setRoutes(n.data.routes),p(n.data.user),r("success"),e.next=16;break;case 12:throw e.prev=12,e.t0=e.catch(1),console.error(e.t0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}Object(n.useEffect)((function(){!function(){m.apply(this,arguments)}()}),[]);var b=Object(n.useMemo)((function(){return{user:u,initUser:p}}),[u,p]),y=[{path:E.a.getRoute("homepage"),exact:!0,component:function(){return o.a.createElement(H,null)}},{path:E.a.getRoute("userRegister"),component:function(){return o.a.createElement(J,null)}},{path:E.a.getRoute("userLogin"),component:function(){return o.a.createElement(V,null)}},{path:E.a.getRoute("userEdit"),component:function(){return o.a.createElement($,null)}},{path:E.a.getRoute("userForgotPassword"),component:function(){return o.a.createElement(q,null)}},{path:E.a.getRoute("userResetPassword"),component:function(){return o.a.createElement(F,null)}}];return"success"!==t?o.a.createElement(k,null):o.a.createElement(o.a.Fragment,null,o.a.createElement(s.a,{styles:f}),o.a.createElement(w.a,null,o.a.createElement(O.a.Provider,{value:b},o.a.createElement(S,null),o.a.createElement(n.Suspense,{fallback:o.a.createElement(k,null)},o.a.createElement(g.c,null,y.map((function(e,t){return o.a.createElement(g.a,{key:"route_"+t,path:e.path,exact:"exact"in e||!1},o.a.createElement("div",{className:d},o.a.createElement(v,null),o.a.createElement(e.component,null)))})))))))};console.log("Running Main App (mode=prod)"),u.a.render(o.a.createElement(G,null),document.getElementById("app"))},62:function(e,t,r){"use strict";var n=r(0),o=r.n(n),a=r(61);function u(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n\n  margin: 10px 0;\n  background: #118ab2;\n  padding: 10px;\n  color: white;\n  border-radius: 5px;\n\n  &.msg-banner-info {\n    background: #118ab2;\n  }\n  &.msg-banner-success {\n    background: #06d6a0;\n  }\n  &.msg-banner-error {\n    background: #ef476f;\n  }\n"]);return u=function(){return e},e}var c=Object(a.a)(u());t.a=function(e){var t=e.type,r=void 0===t?"info":t,n=e.children;return o.a.createElement("div",{className:"".concat(c," msg-banner-").concat(r)},n)}},68:function(e,t,r){"use strict";var n=(0,r(0).createContext)({});t.a=n},86:function(e,t,r){"use strict";var n=r(0),o=r.n(n);t.a=function(e){var t=e.type,r=void 0===t?"text":t,a=e.children,u=e.name,c=e.value,i=e.error,l=e.onChange,s=Object(n.useRef)(),f=["form-group"];i&&f.push("error");return o.a.createElement("div",{className:f.join(" "),ref:s},o.a.createElement("label",null,a),o.a.createElement("input",{name:u,value:c,type:r,className:"form-control",onChange:function(e){l(e),s.current.classList.remove("error")}}),i&&o.a.createElement("div",{className:"form-validation-error"},i))}}});