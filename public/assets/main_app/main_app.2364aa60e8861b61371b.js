!function(e){function t(t){for(var r,u,i=t[0],c=t[1],l=t[2],f=0,p=[];f<i.length;f++)u=i[f],Object.prototype.hasOwnProperty.call(a,u)&&a[u]&&p.push(a[u][0]),a[u]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(s&&s(t);p.length;)p.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,i=1;i<n.length;i++){var c=n[i];0!==a[c]&&(r=!1)}r&&(o.splice(t--,1),e=u(u.s=n[0]))}return e}var r={},a={7:0},o=[];function u(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(e){var t=[],n=a[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=a[e]=[t,r]}));t.push(n[2]=r);var o,i=document.createElement("script");i.charset="utf-8",i.timeout=120,u.nc&&i.setAttribute("nonce",u.nc),i.src=function(e){return u.p+""+({0:"ForgotPassword",1:"Homepage",2:"Login",3:"Register",4:"ResetPassword",5:"UserEdit",6:"admin_Home"}[e]||e)+"."+{0:"a21a0c8eb282ca35415e",1:"3a2f188497bd24a4def8",2:"2d0d50f961446e3e33e6",3:"aba827d572a3ceb0bf45",4:"c43e486450417e4446d6",5:"5d68845a3f5b194f449b",6:"de274f34fe30c5c44a7f"}[e]+".js"}(e);var c=new Error;o=function(t){i.onerror=i.onload=null,clearTimeout(l);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",c.name="ChunkLoadError",c.type=r,c.request=o,n[1](c)}a[e]=void 0}};var l=setTimeout((function(){o({type:"timeout",target:i})}),12e4);i.onerror=i.onload=o,document.head.appendChild(i)}return Promise.all(t)},u.m=e,u.c=r,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)u.d(n,r,function(t){return e[t]}.bind(null,r));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/assets/main_app/",u.oe=function(e){throw console.error(e),e};var i=window.webpackJsonp=window.webpackJsonp||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var s=c;o.push([398,8]),n()}({12:function(e,t,n){"use strict";var r={main:{prefix:"",routes:{homepage:"/",userRegister:"/register",userLogin:"/login",userEdit:"/users/edit",userForgotPassword:"/forgot-password",userResetPassword:"/users/resetPassword/:key"}},admin:{prefix:"admin",routes:{home:"/home"}}};t.a={getPrefix:function(e){if(!r.hasOwnProperty(e))throw new Error('Key "'.concat(e,' not found in routes."'));return r[e].prefix||""},getRoute:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.prefix=!t.hasOwnProperty("prefix")||t.prefix;var n,a,o=e.split(".");if(1===o.length?(n="main",a=o[0]):(n=o[0],a=o[1]),!r.hasOwnProperty(n)||!r[n].routes.hasOwnProperty(a))throw new Error('Key "'.concat(e,'" not found in routes.'));var u=r[n].routes[a].replace(/^\//,"");if(!t.prefix)return u;u="/"+u;var i=this.getPrefix(n).replace(/^\//,"");return(i=i?"/"+i:"")+u}}},398:function(e,t,n){"use strict";n.r(t);n(167);var r=n(0),a=n.n(r),o=n(163),u=n.n(o),i=n(40),c=n(68),l=n.n(c),s=n(166),f={"*, ::after, ::before":{boxSizing:"border-box"},body:{fontFamily:'-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji"'},".btn":{padding:".25rem .5rem",borderRadius:5,border:0,backgroundColor:"#dddddd"},".form-group":{marginBottom:10,".form-control":{display:"block",border:"1px solid #aaa",borderRadius:5,padding:5,width:"100%"},".form-validation-error":{color:"red",display:"none"},"&.error":{label:{color:"red"},".form-control":{borderColor:"red",color:"red"},".form-validation-error":{display:"block"}}}},p=n(60);function m(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  margin: 10px;\n"]);return m=function(){return e},e}var d=Object(p.a)(m());n(390);function g(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  background: #073b4c;\n  color: white;\n  display: flex;\n  padding: 10px;\n  a {\n    color: white;\n  }\n  .left, .right {\n    flex: 1\n  }\n  .right {\n    text-align: right;\n  }\n  .menu {\n    padding: 0;\n    margin: 0;\n    list-style: none;\n    display: flex;\n    justify-content: flex-end;\n    > li + li {\n      margin-left: 20px\n    }\n  }\n"]);return g=function(){return e},e}var b=Object(p.a)(g()),h=n(31),v=n(10),y=n(66),E=n(12);function w(e,t,n,r,a,o,u){try{var i=e[o](u),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function u(e){w(o,r,a,u,i,"next",e)}function i(e){w(o,r,a,u,i,"throw",e)}u(void 0)}))}}var j=function(){return a.a.createElement("ul",{className:"menu"},a.a.createElement("li",null,a.a.createElement(h.b,{to:E.a.getRoute("userRegister")},"register")),a.a.createElement("li",null,a.a.createElement(h.b,{to:E.a.getRoute("userLogin")},"login")),a.a.createElement("li",null,a.a.createElement(h.b,{to:E.a.getRoute("userForgotPassword")},"forgot password?")))},x=function(e){var t=e.user,n=Object(v.f)(),o=Object(r.useContext)(y.a);function u(){return(u=O(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{l.a.get(i.a.getRoute("users.logout")),o.initUser(null),n.push(E.a.getRoute("homepage"),{hasLogout:!0})}catch(e){console.error(e)}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return a.a.createElement("ul",{className:"menu"},a.a.createElement("li",null,"connected as ",t.username),a.a.createElement("li",null,a.a.createElement(h.b,{to:E.a.getRoute("userEdit")},"edit")),a.a.createElement("li",null,a.a.createElement("a",{href:"",onClick:function(e){e.preventDefault(),function(){u.apply(this,arguments)}()}},"log out")))},P=function(){var e=Object(r.useContext)(y.a);return a.a.createElement("nav",{className:b},a.a.createElement("div",{className:"left"},a.a.createElement(h.b,{to:E.a.getRoute("homepage")},"Can I Kick It")),a.a.createElement("div",{className:"right"},e.user?a.a.createElement(x,{user:e.user}):a.a.createElement(j,null)))},R=function(){return a.a.createElement("div",null,"Loading...")},k=n(85),S=function(){var e=Object(v.f)(),t=i.a.getInitData();return"userConfirm"in t?(i.a.removeData("userConfirm"),a.a.createElement(k.a,{type:"info"},"Votre compte a bien été confirmé.")):"logout"in t||(e.location.state||{}).hasLogout?("logout"in t&&i.a.removeData("logout"),a.a.createElement(k.a,{type:"info"},"Vous êtes déconnecté.")):null},C=a.a.lazy((function(){return n.e(1).then(n.bind(null,400))})),I=a.a.lazy((function(){return n.e(3).then(n.bind(null,402))})),z=a.a.lazy((function(){return n.e(2).then(n.bind(null,403))})),D=a.a.lazy((function(){return n.e(5).then(n.bind(null,404))})),_=a.a.lazy((function(){return n.e(0).then(n.bind(null,405))})),A=a.a.lazy((function(){return n.e(4).then(n.bind(null,406))})),N=[{path:E.a.getRoute("main.homepage"),exact:!0,component:function(){return a.a.createElement(C,null)}},{path:E.a.getRoute("main.userRegister"),component:function(){return a.a.createElement(I,null)}},{path:E.a.getRoute("main.userLogin"),component:function(){return a.a.createElement(z,null)}},{path:E.a.getRoute("main.userEdit"),component:function(){return a.a.createElement(D,null)}},{path:E.a.getRoute("main.userForgotPassword"),component:function(){return a.a.createElement(_,null)}},{path:E.a.getRoute("main.userResetPassword"),component:function(){return a.a.createElement(A,null)}}],L=function(){return a.a.createElement(v.c,null,N.map((function(e,t){return a.a.createElement(v.a,{key:"route_"+t,path:e.path,exact:"exact"in e||!1},a.a.createElement(S,null),a.a.createElement(e.component,null))})))},M=a.a.lazy((function(){return n.e(6).then(n.bind(null,401))})),F=[{path:E.a.getRoute("admin.home"),exact:!0,component:function(){return a.a.createElement(M,null)}}],U=function(){return a.a.createElement(v.c,null,F.map((function(e,t){return a.a.createElement(v.a,{key:"route_"+t,path:e.path,exact:"exact"in e||!1},a.a.createElement(S,null),a.a.createElement(e.component,null))})))};function T(e,t,n,r,a,o,u){try{var i=e[o](u),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}function K(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function u(e){T(o,r,a,u,i,"next",e)}function i(e){T(o,r,a,u,i,"throw",e)}u(void 0)}))}}function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var u,i=e[Symbol.iterator]();!(r=(u=i.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var J=[{path:"/"+E.a.getPrefix("admin"),component:function(){return a.a.createElement(U,null)}},{path:"/"+E.a.getPrefix("main"),component:function(){return a.a.createElement(L,null)}}];console.log("routes:",J);var V=function(){var e=B(Object(r.useState)("init"),2),t=e[0],n=e[1],o=B(Object(r.useState)(null),2),u=o[0],c=o[1],p=Object(r.useCallback)((function(e){c(e)}),[u]);function m(){return(m=K(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n("loading"),e.prev=1,t=i.a.getInitData().initRoute,e.next=5,l.a.get(t);case 5:r=e.sent,console.log(r.data),i.a.setRoutes(r.data.routes),p(r.data.user),n("success"),e.next=16;break;case 12:throw e.prev=12,e.t0=e.catch(1),console.error(e.t0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}Object(r.useEffect)((function(){!function(){m.apply(this,arguments)}()}),[]);var g=Object(r.useMemo)((function(){return{user:u,initUser:p}}),[u,p]);return"success"!==t?a.a.createElement(R,null):a.a.createElement(a.a.Fragment,null,a.a.createElement(s.a,{styles:f}),a.a.createElement(h.a,null,a.a.createElement(y.a.Provider,{value:g},a.a.createElement(P,null),a.a.createElement(r.Suspense,{fallback:a.a.createElement(R,null)},a.a.createElement(v.c,null,J.map((function(e,t){return a.a.createElement(v.a,{key:"route_"+t,path:e.path,exact:"exact"in e||!1},a.a.createElement("div",{className:d},a.a.createElement(e.component,null)))})))))))};console.log("Running Main App (mode=prod)"),u.a.render(a.a.createElement(V,null),document.getElementById("app"))},40:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={},i=window.hasOwnProperty("CIKI_inputs")?CIKI_inputs:{};t.a={getInitData:function(){return i},setData:function(e){i=a(a({},i),e)},removeData:function(e){delete i[e]},setRoutes:function(e){u=e},getRoute:function(e,t){if(!u[e])throw new Error('The route ID "'.concat(e,'" does not exist.'));var n=u[e];if(t)for(var r in t)n=n.replace("%".concat(r,"%"),t[r]);return n}}},66:function(e,t,n){"use strict";var r=(0,n(0).createContext)({});t.a=r},85:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(60);function u(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n\n  margin: 10px 0;\n  background: #118ab2;\n  padding: 10px;\n  color: white;\n  border-radius: 5px;\n\n  &.msg-banner-info {\n    background: #118ab2;\n  }\n  &.msg-banner-success {\n    background: #06d6a0;\n  }\n  &.msg-banner-error {\n    background: #ef476f;\n  }\n"]);return u=function(){return e},e}var i=Object(o.a)(u());t.a=function(e){var t=e.type,n=void 0===t?"info":t,r=e.children;return a.a.createElement("div",{className:"".concat(i," msg-banner-").concat(n)},r)}}});